#!/bin/bash

# SSH ν‚¤ μ„¤μ • λ„μ°λ―Έ μ¤ν¬λ¦½νΈ

echo "π” SSH ν‚¤ κΈ°λ° μΈμ¦ μ„¤μ •"
echo "========================="
echo ""
echo "μ΄ μ¤ν¬λ¦½νΈλ” λΉ„λ°€λ²νΈ μ—†μ΄ SSH μ ‘μ†μ„ μ„ν• ν‚¤λ¥Ό μ„¤μ •ν•©λ‹λ‹¤."
echo ""

# 1. SSH ν‚¤ μƒμ„± ν™•μΈ
if [ ! -f ~/.ssh/id_rsa ]; then
    echo "π“ SSH ν‚¤κ°€ μ—†μµλ‹λ‹¤. μƒλ΅ μƒμ„±ν•©λ‹λ‹¤..."
    ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa -N ""
else
    echo "β… κΈ°μ΅΄ SSH ν‚¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤."
fi

# 2. μ›κ²© μ„λ²„μ— ν‚¤ λ³µμ‚¬
echo ""
echo "π”‘ μ›κ²© μ„λ²„μ— SSH ν‚¤λ¥Ό λ³µμ‚¬ν•©λ‹λ‹¤."
echo "λΉ„λ°€λ²νΈλ¥Ό ν• λ²λ§ μ…λ ¥ν•λ©΄ μ΄ν›„μ—λ” λΉ„λ°€λ²νΈ μ—†μ΄ μ ‘μ†ν•  μ μμµλ‹λ‹¤."
echo ""

ssh-copy-id ysk@192.168.50.50

echo ""
echo "β… μ„¤μ • μ™„λ£!"
echo ""
echo "μ΄μ  λ‹¤μ λ…λ ΉμΌλ΅ ν…μ¤νΈν•΄λ³΄μ„Έμ”:"
echo "ssh ysk@192.168.50.50 'echo SSH μ ‘μ† μ„±κ³µ!'"